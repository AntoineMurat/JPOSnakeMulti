<!DOCTYPE HTML5>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
		<title>Snake multijoueur - JPO</title>
	
		<link type="text/css" rel="stylesheet" href="css/materialize.min.css"  media="screen,projection"/>
		<link type="text/css" rel="stylesheet" href="css/stylesheet.css">
		<link type="text/css" rel="stylesheet" href="css/hljs/androidstudio.css">
		<link href="http://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

		<script src="js/jquery.js"></script>
		<script src="js/materialize.min.js"></script>
		<script src="js/highlight.pack.js"></script>

		<script src="js/main.js"></script>
	</head>
	<body>

		<nav class="nav-extended">
			<div class="nav-wrapper container">
				<a href="#" class="brand-logo">JPO : Snake Multijoueur</a>
				<a href="#" data-activates="mobile-demo" class="button-collapse">
					<i class="material-icons">menu</i>
				</a>

				<ul id="nav-mobile" class="right hide-on-med-and-down">
					<li><a href="https://www.iut.unilim.fr/" target="_blank">IUT du Limousin</a></li>
					<li><a href="https://github.com/Evoliofly" target="_blank">Antoine Murat</a></li>
					<li><a href="https://github.com/ZekLouis" target="_blank">Louis Gaume</a></li>
				</ul>
				<ul class="side-nav" id="mobile-demo">
					<li><a href="https://www.iut.unilim.fr/" target="_blank">IUT du Limousin</a></li>
					<li><a href="https://github.com/Evoliofly" target="_blank">Antoine Murat</a></li>
					<li><a href="https://github.com/ZekLouis" target="_blank">Louis Gaume</a></li>
				</ul>

				<ul class="tabs tabs-transparent">
					<li class="tab"><a id="tab_part1" class="active" href="#part1">Avant-propos</a></li>
					<li class="tab"><a id="tab_part2" href="#part2">Mise en place du solo</a></li>
					<li class="tab"><a href="#part3">Ajout du multijoueur</a></li>
					<li class="tab"><a href="#part4">Pour aller plus loin</a></li>
				</ul>
			</div>
		</nav>
		<div class="row">
			<div class="col s12 m6 l4 center iframeContainer">
				<iframe src="iframe.html" frameborder="0" height="100%" width="100%"></iframe>
			</div>

			<!-- Première partie du tutoriel -->
			<div id="part1" class="col s12 m6 l8">
				<div class="row contenuTuto">
					<h4>Avant-propos</h4>

					Dans cet atelier, tu vas être amené à réaliser un petit jeu. Comme tu l'as surement déjà vu, ce jeu reprendra le principe du jeu snake en ajoutant quelques fonctionnalités.
					
					<h4>Olala mais qu'est-ce que c'est que tous ces trucs ?</h4>

					Parlons d'abord de ton environnement de travail. En bas à gauche tu peux voir la console, c'est elle qui te permettra de visualiser un direct les informations fournies par le jeu ou par le serveur.
					En haut à gauche tu peux voir la fenêtre de jeu, c'est ici qu'il y aura le plus d'action, c'est dans cette zone que tu verras ton serpent et celui des autres (ainsi que les pommes qu'il faut manger).

					<h4>Le code (ton travail)</h4>

					Le code est partiellement réalisé, évidemment tu ne vas pas réaliser le jeu en partant de 0.
					Le jeu a été réalisé par notre cher major de promotion entre 2 cours dans un couloir.
					Un programme c'est un algorithme ou une suite d'instructions qui, la plupart du temps, se lit de haut en bas.

					Dans cet atelier, il faudra réaliser un petit jeu en deux temps : la partie solo puis la partie multijoueur. 
					Ton but va être de construire l'algorithme qui permettra à ce jeu de fonctionner. 
					Pour ce faire tu devras placer certaines instructions à certains endroits dans un certain ordre. (Et tu y arriveras certainement.)
					Rien de très compliqué en somme, il faut juste un minimum de logique (et savoir suivre des instructions).

					Voici des exemples d'instruction : 

					<!-- Démonstration du code -->
					<pre><code class="hljs javascript">
// Par exemple l'instruction console.info("message")
// permet de faire afficher un message dans la console
console.info("bonjour")
// Ici on va faire afficher bonjour dans la console
					</code></pre>

					<h4>Principe du jeu</h4>

					Le but est d'obtenir le meilleur score. Pour ce faire, il faut manger les pommes avec son serpent. 
					Il faut faire attention a ne pas mordre les autres joueurs sous peine de mort. Vous manger vous-même vous fera aussi mourir.

					<h4>Comment jouer ?</h4>

					Il suffit de déplacer son personnage en utilisant les flèches directionnelles.
					La partie se termine lorsque le joueur se mange lui même ou mange un autre serpent.
				</div>


				<!-- Séparation -->
				<div class="row">
					<div class="divider"></div>
				</div>


				<!-- Bouton pour changer de pages -->
				<div class="row">
					<button data-dest="part2" class="btn btnContinue waves-effect waves-light col offset-s6 s6 offset-m6 offset-l6 m4 l4">Mise en place du solo
						<i class="material-icons right">skip_next</i>
					</button>
				</div>
			</div>



			<!-- Partie 2 du tutoriel -->
			<div id="part2" class="col s12 m6 l8">
				<div class="row contenuTuto">
					<h3>Mise en place du solo</h3>

					"Quand il faut y aller, il faut y aller !"

					<strong>Pour rafraichir le jeu, on utilisera le petit bouton prévu a cet effet en haut à droite de la fenêtre de jeu.</strong>

					<h4>Les boucles</h4>
					
					Ici nous serons en présence de 2 boucles : <br><br>

					La boucle "start" :<br>

					Elle sera appelée une seule fois au démarrage de la partie.
					Il faudra donc y réaliser les initialisations de tous les objets serpent ou pomme, bref faire tout ce qui ne doit être fait qu'une foiss en début de partie.

					<pre><code class="hljs javascript">
start(){

}
					</code></pre>

					Et la boucle "loop" (boucle de rendu) :<br>
					Elle sera appelée de façon continue : quand elle se termine, elle se relance.
					On prendra soin d'y effectuer toutes les opérations que l'on doit faire à chaque rafraichissement (faire avancer le serpent par exemple). 

					<pre><code class="hljs javascript">
loop(){

}
					</pre></code>

					<h4>Les instructions</h4>

					Aucun serpent n'est présent dans ton jeu. 
					Il faut donc en faire afficher un.<br><br>

					Comme c'est une initialisation il ne faut exécuter l'instruction qu'une seule fois.
					A toi de placer cette instruction au bon endroit.
					Pour ce faire tu disposes de l'instruction :

					<pre><code class="hljs javascript">
this.initialiserNotreSerpent()
					</pre></code>

					N'oublie pas d'enregistrer ton travail et de rafraîchir le jeu !<br><br>

					Ton serpent est maintenant initialisé. 
					<quote><i>"Mais il n'y a rien à l'écran !"</i></quote>
					Nous allons maintenant le faire afficher. L'affichage des serpents est une instruction qui sera appelée plusieurs fois dans la partie (tant que nous sommes en train de jouer à vrai dire).
					Il faut la placer dans une boucle. <br>
					L'instruction est la suivante :

					<pre><code class="hljs javascript">
this.afficherSerpents()
					</pre></code>

					Wow quel magnifique serpent, n'est-ce pas ?
					Ne serait-il pas mieux s'il bougeait ?
					Cette instruction sera appelé tant que la partie est en cours.<br>
					L'instruction : 

					<pre><code class="hljs javascript">
this.faireAvancerNotreSerpent()
					</pre></code>

					<quote><i>Ca ne fonctionne pas bien mieux votre truc, rien ne se passe chez moi !</i></quote>
					Il n'y a pas de mystèque qui saurait nous résister ! Si le serpent n'avance pas, c'est tout simplement parce que la boucle de rendu n'est pas rappelée automatiquement. Essayez donc de placer l'instruction console.log('test') dedans. Le message ne s'affichera qu'une seul fois !<br>
					A la fin de cette-dite boucle, il faut la rapeler.<br>
					Attention tout de même, il y a une condition ! On ne le fait que si notre serpent n'est pas mort.<br>
					Il faut utiliser la structure conditionnelle if :
					<pre><code class="hljs javascript">
// Exemple de if :
if (18>13){
	console.log("18 est plus grand que 13")
}
// On peut aussi inverser la condition avec le symbole "!" :
if (!18<13){
	console.log("13 n' est pas supérieur à 18)
}
					</pre></code>
					Il faut alors placer cette instruction à la fin de la boucle loop().<br>
					Voici l'instruction :

					<pre><code class="hljs javascript">
if (!this.notreSerpentEstMort()){
	this.rappelerBoucleDeRendu() 
}
					</pre></code>

					Ca y est ca bouge ! 
					<quote><i>Pourquoi diable y a-t-il une trainée derrière mon serpent !?</i></quote>
					Quelques explications : <br>
					Actuellement nous faisons afficher les différents positions du serpent les unes après les autres sans effacer la position précédente.<br>
					Pour avoir un affichage propre nous allons utilisons l'instruction :

					<pre><code class="hljs javascript">
this.nettoyerEcran()
					</pre></code>

					Faites attention, cette instruction doit être utilisée juste avant d'afficher le serpent ! <br>

					Si tout se passe bien, ton serpent bouge et c'est propre !<br>

					Si tu as un problème, n'hésite pas à appeler un étudiant autour de toi, ils sont tous gentils (sauf Gloria, elle elle est méchante, mais ne lui dite pas) ! <br>

					Faisons en sorte de pouvoir se déplacer, tu vas avoir besoin de deux instructions :

					<pre><code class="hljs javascript">
// Instruction 1
this.ecouterLesTouchesClavier()

// Instruction 2
this.faireTournerNotreSerpent()
					</pre></code>

					La premiere va te permettre de vérifier si le joueur appuie sur une touche. Cette intruction ne sera appeler qu'une fois puisque c'est un écouteur d'évennements. Faisons simple : quand tu appuies sur une touche de ton clavier, tu déclenches un événement. Cette instruction permet de placer un écouteur qui attendra cet événement pour faire une action. Il est donc logique de n'enregistrer cet écouteur qu'une seule fois !<br>
					La deuxième instruction va permettre de faire bouger le serpent en fonction de la dernière touche pressée. Elle sera appelé constamment juste avant de faire avancer le serpent.
					
					<!-- Séparation -->
					<div class="row">
						<div class="divider"></div>
					</div>

					Rajoutons un peu de contenu (une pomme à manger, un score ...)
					Pour afficher le score l'instruction : 

					<pre><code class="hljs javascript">
// L'affichage du score est réalisé constamment
this.afficherScore()
					</pre></code>

					Pour faire afficher une pomme : 

					<pre><code class="hljs javascript">
// La pomme ne sera créé qu'une fois (Boucle start)
this.creerPomme()
// L'affichage de la pomme est réalisé constamment
this.afficherPomme()
					</pre></code>

					Nickel, on a la pomme et le score ! Il faut que l'on puisse manger la pomme et que cela fasse augmenter le score.
					A chaque affichage on vérifie si le serpent est au même endroit que la pomme (s'il la mord). Pour se faire :

					<pre><code class="hljs javascript">
if (this.notreSerpentMordPomme()){
	this.mangerPomme()
} 
					</pre></code>

					Après avoir mangé la pomme on peut faire afficher une autre pomme pour pouvoir continuer la partie mais nous allons nous concentrer sur la partie la plus intéréssante le multijoueur.<br>
					On est ready to go ?
				
				</div>


				<!-- Séparation -->
				<div class="row">
					<div class="divider"></div>
				</div>


				<!-- Boutons pour changer de pages -->
				<div class="row">
					<button data-dest="part1" class="btn btnContinue waves-effect waves-light col s6 offset-m1 offset-l1 m4 l4">Avant-propos
						<i class="material-icons left">skip_previous</i>
					</button>
					<button data-dest="part3" class="btn btnContinue waves-effect waves-light col s6 offset-m1 offset-l1 m4 l4">Ajout du multijoueur
						<i class="material-icons right">skip_next</i>
					</button>
				</div>
			</div>



			<!-- Partie 3 du tutoriel -->
			<div id="part3" class="col s12 m6 l8">
				<div class="row contenuTuto">
					<h3>Ajout du multijoueur</h3>

					<quote><i>On se fait un peu chier tout seul, non ?</i></quote>

					Pour faire en sorte que chaque client ait la même pomme on va laisser le serveur gérer cette partie.
					On va donc enlever une instruction et en rajouter une autre.

					<pre><code class="hljs javascript">
// Il faut retirer l'apparition de pomme faite localement :
this.creerPomme()
// Puis on ajoute l'instruction qu'il ne faudra exécuter qu'une fois 
// (On dit a notre serpent d'écouter pour voir si le serveur lui dit qu'il y a une nouvelle pomme)
this.ecouterMAJServeurNouvellePomme()
					</pre></code>

					Cependant, le serveur ne reçoit pas les informations ! La communication se fait dans les 2 sens : on envoie des informations au serveur (un ordinateur distant) et le serveur nous envoie des informations. On va donc lui envoyer nos informations mais avant nous allons vérifier que nous ne sommes pas mort avant tout.
					<pre><code class="hljs javascript">
if (!this.notreSerpentEstMort()){
	this.envoyerInformationsServeur() 
}
					</pre></code>

					On ne peut pas mourir et ca serait un peu trop facile s'il en restait ainsi. On va donc vérifier la collision avec soit même et avec les autres serpents.
					Cette instruction sera appelé tout le long de la partie.

					<pre><code class="hljs">
if (this.notreSerpentEnMordUn()){
	this.afficherEcranScore()
}
					</pre></code>

					<quote><i>Mais je suis tout seul, ou sont les autres joueurs ?</i></quote>

					<pre><code class="hljs javascript">
this.ecouterMAJServeurConcurrents()
					</pre></code>

					<quote><i>Les autres serpents me rentrent dedans mais ne meurent pas ?</i></quote>
					<pre><code class="hljs javascript">
this.ecouterMAJServeurSupprimerSerpent()
					</pre></code>
				</div>


				<!-- Séparation -->
				<div class="row">
					<div class="divider"></div>
				</div>


				<!-- Boutons pour changer de pages -->
				<div class="row">
					<button data-dest="part2" class="btn btnContinue waves-effect waves-light col s6 offset-m1 offset-l1 m4 l4">Installation du solo
						<i class="material-icons left">skip_previous</i>
					</button>
					<button data-dest="part4" class="btn btnContinue waves-effect waves-light col s6 offset-m1 offset-l1 m4 l4">Pour aller plus loin
						<i class="material-icons right">skip_next</i>
					</button>
				</div>
			</div>



			<!-- Partie 4 du tutoriel -->
			<div id="part4" class="col s12 m6 l8">
				<div class="row contenuTuto">
					<h3>Pour aller plus loin</h3>

					Vous voulez en savoir plus ? Continuer à modifier le code chez vous ou simplement "gratter" ?
					Le code source complet est disponible à l'adresse suivante : <a href="https://github.com/Evoliofly/JPOSnakeMulti"><strong>https://github.com/Evoliofly/JPOSnakeMulti</strong></a><br />

					Vous êtes invités à démonter toute cette application afin d'en comprendre son fonctionnement intime !<br>

					Si un élément vous a semblé obscur, n'hésitez pas à nous le dire, nous améliorerons ce micro TP pour la prochaine fois !<br>

					Si vous voulez nous contacter : <i>louis.gaume@etu.unilim.fr</i> / <i>antoine.murat@etu.unilim.fr</i><br />

					<div class="row">
						<div class="col s12 m4 offset-m4">
							<form action="https://formspree.io/zeklouis@gmail.com" method="POST">
								<div class="row">
									<div class="input-field col s12">
										<input id="last_name" type="text" class="validate" name="prenom">
										<label for="last_name">Prénom</label>
									</div>
								</div>
								<div class="row">
									<div class="input-field col s12">
										<input id="last_name" type="text" class="validate" name="mail">
										<label for="last_name">Mail</label>
									</div>
								</div>
								<div class="row">
									<div class="input-field col s12">
										<textarea id="textarea1" class="materialize-textarea" name="comment"></textarea>
										<label for="textarea1">Commentaires</label>
									</div>
								</div>
								<button class="btn waves-effect waves-light col s12 btnContinue" type="submit">Envoyer
									<i class="material-icons right">send</i>
								</button>
							</form>
						
					</div>
				</div>


				<!-- Séparation -->
				<div class="row">
					<div class="divider"></div>
				</div>


				<!-- Bouton pour changer de pages -->
				<div class="row">
					<button data-dest="part3" class="btn btnContinue waves-effect waves-light col s6 offset-m1 offset-l1 m4 l4">Ajout du multijoueur
						<i class="material-icons left">skip_previous</i>
					</button>
				</div>
			</div>
		</div>
	</body>
</html>